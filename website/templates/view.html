<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="My Formsâ€‹">
  <meta name="description" content="">
  <title>View</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/library-css/view.css') }}" media="screen">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/view.css') }}" media="screen">
  <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/jquery.js') }}"
    defer=""></script>
  <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/page.js') }}"
    defer=""></script>
  <meta name="referrer" content="origin">
  <link rel="icon" type="image/x-icon" href="static/images/Logo1.svg">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">



  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
  <meta name="theme-color" content="#478ac9">
  <meta property="og:title" content="View">
  <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
  <style>
    .page-button {
      font-weight: bold;
      cursor: pointer;
      background-color: #D2E754;
      color: white;
    }

    .page-button.clicked {
      background-color: green;
    }

    .u-section-1 {
      display: none;
    }

    #section1 {
      display: block;
    }

    .required-star {
      color: red;
    }
  </style>
</head>

<body data-path-to-root="./" data-include-products="false" class="u-body u-stick-footer u-xl-mode" data-lang="en">
  <div style="background-color: #f8f8f8;">
    <header class="u-clearfix u-header u-white u-header" id="sec-3136">
      <div class="u-clearfix u-sheet u-sheet-1"><span
          class="u-border-1 u-border-grey-5 u-file-icon u-grey-5 u-icon u-icon-circle u-icon-1"><img 
            src="{{ url_for('static', filename='images/view/3106773-55a68393.png') }}" alt=""></span>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" data-responsive-from="SM">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
              href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
              </svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
                xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <g>
                  <rect y="1" width="16" height="2"></rect>
                  <rect y="7" width="16" height="2"></rect>
                  <rect y="13" width="16" height="2"></rect>
                </g>
              </svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1">
              <li class="u-nav-item"><a
                  class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="{{ url_for('views.welcome') }}"
                  style="padding: 10px 24px;">Home</a>
              </li>
              <li class="u-nav-item"><a
                  class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="{{ url_for('views.my_forms') }}"
                  style="padding: 10px 23px 10px 24px;">My Forms</a>
              </li>
            </ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                  <li class="u-nav-item"><a class="u-button-style u-nav-link" href="#">Home</a>
                  </li>
                  <li class="u-nav-item"><a class="u-button-style u-nav-link">My Forms</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
        <img class="u-image u-image-contain u-image-default u-preserve-proportions u-image-1" src="{{ url_for('static', filename='images/view/Logo1.svg') }}"
          alt="" data-image-width="86" data-image-height="34">
        <div class="nav-container">
          <ul class="nav-items">
            <!-- Navigation -->
            <!-- Dropdown menu -->
            <li class="nav-item nav-item-dropdown ">
              <a class="dropdown-trigger u-text-black" href="#"
              style="text-decoration: none; "
              >{{ user_name }}
                <p class="icon2"> &#11206;</p>
              </a>
              <ul class="dropdown-menu rounded-4 ">
                <li class="dropdown-menu-item u-text-black">
                  <a href="{{ url_for('auth.my_profile') }}" class="u-text-black" style="text-decoration: none;">My Profile</a>
                  <hr class="">
                </li>
                <li class="dropdown-menu-item">
                  <a href="{{ url_for('auth.logout') }}" class="u-text-black" style="text-decoration: none;">Log out</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </header>
  </div>
  <section>
    <form method="POST" id="myform">
      {% set num_sections = page_details|length %}
      {% set num_q = result|length %}
      {% for page, questions in page_details.items() %}
      <div id="section{{ loop.index }}" class="u-clearfix u-custom-color-6 u-section-1">
        <div class="u-clearfix u-sheet u-sheet-1">
          <h2 class="u-text u-text-default-lg u-text-default-xl u-text-black-40 u-text-6">{{form_title}}</h2>
          <img class="u-expanded-width-sm u-expanded-width-xs u-image u-image-default u-image-1"
            src="{{ url_for('static', filename='images/view/OBJECTS2.svg') }}" alt="" data-image-width="495"
            data-image-height="200">
          <div class="u-list u-list-1">
            <div class="u-repeater u-repeater-1">
              {% for i in range(1, num_sections+1) %}
              <div class="u-container-style u-list-item u-repeater-item">
                <div class="u-container-layout u-similar-container u-container-layout-9">
                  <a href=""
                    class="u-btn u-btn-round u-button-style u-custom-color-5 u-custom-item u-radius-50 u-btn-6">{{
                    loop.index }}</a>
                </div>
              </div>
              {%endfor%}
            </div>
          </div>
          <div
            class="u-container-style u-expanded-width u-group u-palette-1-light-1 u-radius-50 u-shape-round u-group-1">
            <div class="u-container-layout u-container-layout-1">
              <p class="u-text u-text-default-lg u-text-default-md u-text-default-sm u-text-default-xl u-text-1">
                {{form_description}}</p>
              <!-- start option -->
              {% for question_info in questions %}
              {% if question_info['options'] %}
              <div
                class="custom-expanded u-border-2 u-border-custom-color-2 u-container-style u-custom-color-2 u-group u-radius-30 u-shape-rectangle u-group-5">
                <div class="u-container-layout u-container-layout-5">
                  <div class="u-container-style u-custom-color-2 u-expanded-width u-group u-shape-rectangle u-group-6">
                    <div class="u-container-layout u-container-layout-6">
                      <p class="u-text u-text-default u-text-palette-4-base u-text-4">Question {{ loop.index }}</p>
                      {% if question_info['require'] == 1 %}
                      <p class="u-text u-text-custom-color-1 u-text-default u-text-5"> {{ question_info['question']
                        }}<span class="required-star">*</span></p>
                      {% else %}
                      <p class="u-text u-text-custom-color-1 u-text-default u-text-5"> {{ question_info['question'] }}
                      </p>
                      {% endif %}
                    </div>
                  </div>
                  <div class="u-container-style u-custom-color-2 u-expanded-width u-group u-shape-rectangle u-group-7">
                    <div class="u-container-layout u-container-layout-7">
                      <div class="u-form u-form-2">
                        <!-- <form action="" class="u-clearfix u-form-spacing-15 u-form-vertical u-inner-form"
                              style="padding: 15px;" source="email" name="form"> -->
                        <div class="u-form-group u-form-radiobutton u-label-none u-form-group-3">
                          <label class="u-label">Radios</label>
                          <div class="u-form-radio-button-wrapper">
                            {% for option in question_info['options'] %}
                            <div class="u-input-row">
                              <input id="field-{{ loop.index }}-{{ question_info['question'] }}" type="radio"
                                name="{{ question_info['question'] }}" value="{{ option }}"
                                class="u-border-3 u-border-active-palette-2-light-1 u-border-grey-10 u-field-input u-radius-15 u-white"
                                checked="checked" data-calc="" {% if question_info['require']==1 %}required{% endif %}>
                              <label class="u-field-label u-text-black"
                                for="field-{{ loop.index }}-{{ question_info['question'] }}"
                                style="font-size: 1.25rem;">{{ option }}</label>
                            </div>
                            {% endfor %}
                          </div>
                        </div>
                        <!-- </form> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- end option -->
              {%else%}
              <!-- start text -->

              <div
                class="custom-expanded u-border-2 u-border-custom-color-2 u-container-style u-custom-color-2 u-expanded-width-sm u-group u-radius-30 u-shape-round u-group-2">
                <div class="u-container-layout u-container-layout-2">
                  <div class="u-container-style u-custom-color-2 u-expanded-width u-group u-shape-rectangle u-group-3">
                    <div class="u-container-layout u-container-layout-3">
                      <p class="u-text u-text-default u-text-palette-4-base u-text-2">Question {{ loop.index }}</p>
                      {% if question_info['require'] == 1 %}
                      <p class="u-text u-text-custom-color-1 u-text-default u-text-3"> {{ question_info['question']
                        }}<span class="required-star">*</span></p>
                      {%else%}
                      <p class="u-text u-text-custom-color-1 u-text-default u-text-3"> {{ question_info['question'] }}
                      </p>
                      {%endif%}
                    </div>
                  </div>
                  <div class="u-container-style u-custom-color-2 u-expanded-width u-group u-shape-rectangle u-group-4">
                    <div class="u-container-layout u-container-layout-4">
                      <div class="u-form u-form-1">
                        <!-- <form action="" class="u-clearfix u-form-horizontal u-form-spacing-10 u-inner-form" source="email"
                              name="form" style="padding: 10px;"> -->
                        <div class="u-form-email u-form-group u-label-none">
                          <label for="email-{{ loop.index }}-{{ question_info['question'] }}"
                            class="u-form-control-hidden u-label"></label>
                          <input type="text" placeholder="Write your answer" 
                            id="email-{{ loop.index }}-{{ question_info['question'] }}"
                            name="{{ question_info['question'] }}"
                            class="u-border u-input u-input-rectangle u-radius-50" {% if
                            question_info['require']==1 %}required{% endif %}>
                        </div>
                        <!-- </form> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              {% endif %}
              {% endfor %}
              <a {% if loop.index==1 %}style="display: none;" {% endif %}
                onclick="showPrevSection('section{{ loop.index - 1 }}', 'section{{ loop.index }}')"
                class="u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-radius-20 u-text-body-alt-color u-text-hover-white u-btn-4 Previous ">Previous
                page&nbsp; &nbsp;<span class="u-file-icon u-icon u-text-white u-icon-2"><img
                    src="{{ url_for('static', filename='images/view/507257-025d2c9e.png') }}" alt=""></span>
              </a>

              <a {% if loop.index==num_sections %}style="display: none;" {% endif %}
                onclick="showNextSection('section{{ loop.index + 1 }}', 'section{{ loop.index }}')"
                class="u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-radius-20 u-text-body-alt-color u-text-hover-white u-btn-3">Next
                page&nbsp; &nbsp;<span class="u-file-icon u-icon u-text-custom-color-2 u-icon-1"><img
                    src="{{ url_for('static', filename='images/view/271226-77cca4a7.png') }}" alt=""></span>
              </a>
              {% if view_state and not publish_state %}
              <a href="{{ url_for('views.publish',form_id=form_id) }}" type="button"
                class="u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-radius-20 u-text-body-alt-color u-text-hover-white u-btn-3"
                {% if loop.index !=num_sections %}style="display: none;" {% endif %}>
                Publish
                <span class="u-file-icon u-icon u-text-custom-color-2 u-icon-1">
                  <img src="{{ url_for('static', filename='images/view/271226-77cca4a7.png') }}" alt="">
                </span>
              </a>
              {% elif not view_state %}
              <button type="submit"
                class="u-border-none u-btn u-btn-round u-button-style u-custom-color-1 u-radius-20 u-text-body-alt-color u-text-hover-white u-btn-3"
                {% if loop.index !=num_sections %}style="display: none;" {% endif %}>
                Submit
                <span class="u-file-icon u-icon u-text-custom-color-2 u-icon-1">
                  <img src="{{ url_for('static', filename='images/view/271226-77cca4a7.png') }}" alt="">
                </span>
              </button>
              {% endif %}
            </div>
          </div>


        </div>
      </div>
      {% endfor %}
    </form>


    <div style="background-color: #f8f8f8;">
      <footer class="u-align-center u-border-2 u-border-custom-color-4 u-clearfix u-custom-color-4 u-footer u-footer"
        id="sec-d10e">
        <div class="u-clearfix u-sheet u-sheet-1">
          <p class="u-text u-text-default u-text-white u-text-1"> All copyrights @Smart Developer</p>
        </div>
      </footer>
    </div>

    <script>
      function showNextSection(nextSectionId, currentSectionId) {
        const nextSection = document.getElementById(nextSectionId);
        const currentSection = document.getElementById(currentSectionId);

        if (nextSection && currentSection) {
          currentSection.style.display = "none";
          nextSection.style.display = "block";
          nextSection.scrollIntoView({ behavior: "smooth" });
        }
      }

      function showPrevSection(prevSectionId, currentSectionId) {
        const prevSection = document.getElementById(prevSectionId);
        const currentSection = document.getElementById(currentSectionId);

        if (prevSection && currentSection) {
          currentSection.style.display = "none";
          prevSection.style.display = "block";
          prevSection.scrollIntoView({ behavior: "smooth" });
        }
      }

      // Start the timer when the page loads
      var startTime = new Date().getTime();

      // Capture the user's device type
      var deviceType = getDeviceType();

      // Attach an event listener to the form submission
      document.getElementById('myform').addEventListener('submit', function () {
        // Calculate the time taken when the form is submitted
        var endTime = new Date().getTime();
        var timeTakenInSeconds = Math.floor((endTime - startTime) / 1000);

        // Add a hidden input field to the form to store the time taken
        var timeTakenInput = document.createElement('input');
        timeTakenInput.type = 'hidden';
        timeTakenInput.name = 'time_taken'; // This should match the name used in your Flask route
        timeTakenInput.value = timeTakenInSeconds;

        // Add a hidden input field to the form to store the device type
        var deviceTypeInput = document.createElement('input');
        deviceTypeInput.type = 'hidden';
        deviceTypeInput.name = 'device_used'; // This should match the name used in your Flask route
        deviceTypeInput.value = deviceType;

        // Append the hidden inputs to the form
        document.getElementById('myform').appendChild(timeTakenInput);
        document.getElementById('myform').appendChild(deviceTypeInput);
      });

      // Function to get the user's device type
      function getDeviceType() {
        var userAgent = navigator.userAgent;

        if (/Android/i.test(userAgent)) {
          return 'Android';
        } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
          return 'iOS';
        } else if (/Windows/i.test(userAgent)) {
          return 'Windows';
        } else if (/Mac/i.test(userAgent)) {
          return 'Mac';
        } else if (/Linux/i.test(userAgent)) {
          return 'Linux';
        } else {
          return 'Unknown';
        }
      }
    </script>
    <script>
      let currentPage = 0;

      function togglePage(pageNumber, pageName) {
        const contentDiv = document.getElementById('content');
        const button = document.getElementById(`button${pageNumber}`);

        if (currentPage === pageNumber) {
          // If the current page is already displayed, show only the number
          contentDiv.innerHTML = pageNumber;
          button.innerText = pageNumber;
          button.classList.remove('clicked');
          currentPage = 0;
        } else {
          // Show the page name, update the button text, and change background to green
          contentDiv.innerHTML = pageName;
          button.innerText = pageName;
          button.classList.add('clicked');
          currentPage = pageNumber;

          // Reset the other buttons to show numbers and remove the green background
          for (let i = 1; i <= 3; i++) {
            if (i !== pageNumber) {
              const otherButton = document.getElementById(`button${i}`);
              otherButton.innerText = i;
              otherButton.classList.remove('clicked');
            }
          }
        }
      }
    </script>
</body>

</html>